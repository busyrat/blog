(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{589:function(t,a,e){"use strict";e.r(a);var r=e(18),i=Object(r.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"git"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git","aria-hidden":"true"}},[t._v("#")]),t._v(" Git")]),t._v(" "),e("blockquote",[e("p",[t._v("一个快速、可扩展的分布式版本控制系统")])]),t._v(" "),e("h2",{attrs:{id:"开篇一张图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开篇一张图","aria-hidden":"true"}},[t._v("#")]),t._v(" 开篇一张图")]),t._v(" "),e("p",[e("img",{attrs:{src:"http://www.ruanyifeng.com/blogimg/asset/2015/bg2015120901.png",alt:"1.png"}})]),t._v(" "),e("ul",[e("li",[e("p",[t._v("工作区")])]),t._v(" "),e("li",[e("p",[t._v("暂存区：stage")])]),t._v(" "),e("li",[e("p",[t._v("本地仓库")])]),t._v(" "),e("li",[e("p",[t._v("远程仓库")])]),t._v(" "),e("li",[e("p",[t._v("临时储藏：stash")])])]),t._v(" "),e("h2",{attrs:{id:"常用的命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用的命令","aria-hidden":"true"}},[t._v("#")]),t._v(" 常用的命令")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("# 初始化\ngit init\n\n# 查看 git 的配置，里面包含全局的配置和项目的配置\ngit config --list\n\n# 修改配置，全局的文件在 users/.gitconfig，项目的在 .git/config\ngit config -e [--global]\n\n# 通常开始一个项目需要配置的个人信息，有个很好用的工具 gitter 切换\ngit config user.name 'xxx'\ngit config user.email 'xxx'\n\n# 提交一次代码，依次是提交到暂存区，仓库，远程仓库\ngit add .\ngit commit -m 'feat: xxx'\ngit push\n\n# 分支开发，查看本地和远程的分支\ngit branch\ngit branch -r\n\n# 切换分支，回到上一个分支的快捷\ngit checkout xxx\ngit checkout -b xxx\ngit checkout -\n\n# 剪切提交\ngit cherry-pick [commit]\n\n# 代码撤销，从暂存区撤回来、从本地仓库撤回来\ngit checkout [file]\ngit reset\ngit reset \"HEAD^\"\n\n# 查看状态，查看日志，查看操作记录\ngit status\ngit log\ngit reflog\n")])])]),e("h2",{attrs:{id:"不常用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#不常用","aria-hidden":"true"}},[t._v("#")]),t._v(" 不常用")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('# 解决 git status 中文不能正常显示的问题\ngit config --global core.quotepath false\n\n# 撤销第一个提交：\ngit update-ref -d HEAD\n\n# 搜索关键词\ngit grep --break --heading -n "xxx"\n')])])]),e("h2",{attrs:{id:"git-hooks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-hooks","aria-hidden":"true"}},[t._v("#")]),t._v(" git hooks")]),t._v(" "),e("p",[t._v("在 git 各个动作下会触发的脚本")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.npmjs.com/package/sensitive-code",target:"_blank",rel:"noopener noreferrer"}},[t._v("一次简单的尝试"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("也可以不依赖 "),e("a",{attrs:{href:"https://github.com/typicode/husky",target:"_blank",rel:"noopener noreferrer"}},[t._v("husky"),e("OutboundLink")],1),t._v(" ，直接写 .git/hooks/pre-commit 脚本，但是这是在 git 客户端的修改，所以只对本地仓库有效")]),t._v(" "),e("h3",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),e("p",[e("a",{attrs:{href:"%5Bhttps://git-scm.com/book/zh/v2/%E8%87%AA%E5%AE%9A%E4%B9%89-Git-Git-%E9%92%A9%E5%AD%90%5D(https://git-scm.com/book/zh/v2/%E8%87%AA%E5%AE%9A%E4%B9%89-Git-Git-%E9%92%A9%E5%AD%90)"}},[t._v("官方")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/zwhu/blog/issues/31",target:"_blank",rel:"noopener noreferrer"}},[t._v("用 Node.js 写前端自己的 Git-hooks"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"练习各种指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#练习各种指令","aria-hidden":"true"}},[t._v("#")]),t._v(" 练习各种指令")]),t._v(" "),e("p",[t._v("http://git-school.github.io/visualizing-git/")]),t._v(" "),e("p",[t._v("https://learngitbranching.js.org/")]),t._v(" "),e("h2",{attrs:{id:"一次关于-git-rebase-的分享"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一次关于-git-rebase-的分享","aria-hidden":"true"}},[t._v("#")]),t._v(" 一次关于 git rebase 的分享")]),t._v(" "),e("h3",{attrs:{id:"目标"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目标","aria-hidden":"true"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),e("p",[t._v("这次的分享主要解决以下几个问题：")]),t._v(" "),e("ul",[e("li",[t._v("解决由于对 git 概念的不清晰，导致使用上出现的各种问题")]),t._v(" "),e("li",[t._v("规范 git 的使用")]),t._v(" "),e("li",[t._v("抛弃 GUI，拥抱终端命令")]),t._v(" "),e("li",[t._v("分享一些日常高频使用的插件")])]),t._v(" "),e("h3",{attrs:{id:"现状"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#现状","aria-hidden":"true"}},[t._v("#")]),t._v(" 现状")]),t._v(" "),e("p",[t._v("目前的操作，我观察到，大家都是")]),t._v(" "),e("ul",[e("li",[t._v("基于 master 或某个分支新建的一个分支")]),t._v(" "),e("li",[t._v("在新分支上开发自己的代码，并提交到本地仓库")]),t._v(" "),e("li",[t._v("把原分支代码拉到本地，合并")]),t._v(" "),e("li",[t._v("上传自己的分支")])]),t._v(" "),e("p",[t._v("主要出现的问题：")]),t._v(" "),e("ul",[e("li",[t._v("分支代码很容易忘记合并到主干分支，每个人在上传代码的时候都不能确保主干的代码是最新的")]),t._v(" "),e("li",[t._v("多次合并代码出现的无效日志："),e("code",[t._v("merge: xxx")])]),t._v(" "),e("li",[t._v("主干分支不明显，给跟踪代码，review 代码带来了很多不必要的麻烦")])]),t._v(" "),e("h3",{attrs:{id:"解决方案：rebase"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决方案：rebase","aria-hidden":"true"}},[t._v("#")]),t._v(" 解决方案：rebase")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("多看说话")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://backlog.com/git-tutorial/cn/img/post/stepup/capture_stepup2_8_1_1.png",alt:""}})]),t._v(" "),e("p",[t._v("一个命令就梳理清楚：")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://backlog.com/git-tutorial/cn/img/post/stepup/capture_stepup2_8_1.png",alt:""}})])]),t._v(" "),e("li",[e("p",[t._v("相关的命令")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("# 提交代码前\ngit pull --rebase\ngit push\n\n# 或者\ngit rebase master\ngit checkout master\ngit merge mybranch\ngit push\n")])])])])]),t._v(" "),e("h3",{attrs:{id:"commit-的规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#commit-的规范","aria-hidden":"true"}},[t._v("#")]),t._v(" commit 的规范")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<type>: <message>\n")])])]),e("p",[t._v("type类型：")]),t._v(" "),e("ul",[e("li",[t._v("feat：新功能（feature）")]),t._v(" "),e("li",[t._v("fix：修补bug")]),t._v(" "),e("li",[t._v("docs：文档（documentation）")]),t._v(" "),e("li",[t._v("style： 格式（不影响代码运行的变动）")]),t._v(" "),e("li",[t._v("refactor：重构（即不是新增功能，也不是修改bug的代码变动）")]),t._v(" "),e("li",[t._v("test：增加测试")]),t._v(" "),e("li",[t._v("chore：构建过程或辅助工具的变动")])]),t._v(" "),e("p",[e("strong",[t._v("后期会在项目中集成插件校验")])]),t._v(" "),e("h3",{attrs:{id:"工具提高效率"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#工具提高效率","aria-hidden":"true"}},[t._v("#")]),t._v(" 工具提高效率")]),t._v(" "),e("p",[t._v("推荐大家都用 vscode")]),t._v(" "),e("ul",[e("li",[t._v("GitLens 查看代码历史记录")]),t._v(" "),e("li",[t._v("Git History 查看提交记录")])]),t._v(" "),e("h3",{attrs:{id:"参考文章"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考文章","aria-hidden":"true"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"%5Bhttp://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html%5D(http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html)"}},[t._v("常用 Git 命令清单 · 阮一峰")])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.liaoxuefeng.com/wiki/896043488029600",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git教程 - 廖雪峰"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.conventionalcommits.org/en/v1.0.0-beta.4/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Conventional Commits"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"合并多次-commit"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#合并多次-commit","aria-hidden":"true"}},[t._v("#")]),t._v(" 合并多次 commit")]),t._v(" "),e("p",[e("code",[t._v("git rebase -i xxxxxxx")]),t._v("会让你选择合并的提交：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("pick xxxxxxx '注释**********'\n...\n")])])]),e("p",[t._v("把 "),e("code",[t._v("pick")]),t._v(" 换成 "),e("code",[t._v("squash")]),t._v("就代表那个提交需要合并，然后保存退出，后面的操作就跟 "),e("code",[t._v("rebase")]),t._v("一样了")])])},[],!1,null,null,null);a.default=i.exports}}]);