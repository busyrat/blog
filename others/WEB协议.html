<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>WEB 协议 | busyrat blog</title>
    <meta name="description" content="找回写代码的乐趣">
    <link rel="icon" href="/blog/pkq.png">
    
    <link rel="preload" href="/blog/assets/css/0.styles.6d141f6a.css" as="style"><link rel="preload" href="/blog/assets/js/app.d2fdc9c2.js" as="script"><link rel="preload" href="/blog/assets/js/3.54348689.js" as="script"><link rel="preload" href="/blog/assets/js/60.d05fb8b4.js" as="script"><link rel="preload" href="/blog/assets/js/10.ff74173e.js" as="script"><link rel="prefetch" href="/blog/assets/js/11.382b8034.js"><link rel="prefetch" href="/blog/assets/js/12.e237bb5b.js"><link rel="prefetch" href="/blog/assets/js/13.466b0cbd.js"><link rel="prefetch" href="/blog/assets/js/14.26a27f91.js"><link rel="prefetch" href="/blog/assets/js/15.037bad83.js"><link rel="prefetch" href="/blog/assets/js/16.9db245c4.js"><link rel="prefetch" href="/blog/assets/js/17.2683ec44.js"><link rel="prefetch" href="/blog/assets/js/18.075bc460.js"><link rel="prefetch" href="/blog/assets/js/19.b80317b7.js"><link rel="prefetch" href="/blog/assets/js/2.96c22922.js"><link rel="prefetch" href="/blog/assets/js/20.c4343091.js"><link rel="prefetch" href="/blog/assets/js/21.e96c52c9.js"><link rel="prefetch" href="/blog/assets/js/22.1bae0b21.js"><link rel="prefetch" href="/blog/assets/js/23.f577b3ca.js"><link rel="prefetch" href="/blog/assets/js/24.316d4abd.js"><link rel="prefetch" href="/blog/assets/js/25.643efccd.js"><link rel="prefetch" href="/blog/assets/js/26.27265485.js"><link rel="prefetch" href="/blog/assets/js/27.38a22402.js"><link rel="prefetch" href="/blog/assets/js/28.ce6cd161.js"><link rel="prefetch" href="/blog/assets/js/29.2a4bbbfa.js"><link rel="prefetch" href="/blog/assets/js/30.811ef8a9.js"><link rel="prefetch" href="/blog/assets/js/31.cff50688.js"><link rel="prefetch" href="/blog/assets/js/32.7ea11986.js"><link rel="prefetch" href="/blog/assets/js/33.317c62c2.js"><link rel="prefetch" href="/blog/assets/js/34.64d4aa4a.js"><link rel="prefetch" href="/blog/assets/js/35.2b3e7e2e.js"><link rel="prefetch" href="/blog/assets/js/36.94c5e934.js"><link rel="prefetch" href="/blog/assets/js/37.0e038b44.js"><link rel="prefetch" href="/blog/assets/js/38.9b26f14b.js"><link rel="prefetch" href="/blog/assets/js/39.1f65731b.js"><link rel="prefetch" href="/blog/assets/js/4.316b84b7.js"><link rel="prefetch" href="/blog/assets/js/40.88324d82.js"><link rel="prefetch" href="/blog/assets/js/41.b1cc4d2a.js"><link rel="prefetch" href="/blog/assets/js/42.1273d541.js"><link rel="prefetch" href="/blog/assets/js/43.7f5e3750.js"><link rel="prefetch" href="/blog/assets/js/44.72c87441.js"><link rel="prefetch" href="/blog/assets/js/45.01bc7d17.js"><link rel="prefetch" href="/blog/assets/js/46.d298dc66.js"><link rel="prefetch" href="/blog/assets/js/47.dc09788e.js"><link rel="prefetch" href="/blog/assets/js/48.795aa437.js"><link rel="prefetch" href="/blog/assets/js/49.a55de8fd.js"><link rel="prefetch" href="/blog/assets/js/5.e5cf21b7.js"><link rel="prefetch" href="/blog/assets/js/50.97b05985.js"><link rel="prefetch" href="/blog/assets/js/51.bd82c922.js"><link rel="prefetch" href="/blog/assets/js/52.dd54c830.js"><link rel="prefetch" href="/blog/assets/js/53.213db39f.js"><link rel="prefetch" href="/blog/assets/js/54.1fc621c1.js"><link rel="prefetch" href="/blog/assets/js/55.a3983a75.js"><link rel="prefetch" href="/blog/assets/js/56.850ff87b.js"><link rel="prefetch" href="/blog/assets/js/57.687a94c0.js"><link rel="prefetch" href="/blog/assets/js/58.1f4a73ae.js"><link rel="prefetch" href="/blog/assets/js/59.557a9bae.js"><link rel="prefetch" href="/blog/assets/js/6.150d3b75.js"><link rel="prefetch" href="/blog/assets/js/61.9c68ae7e.js"><link rel="prefetch" href="/blog/assets/js/62.7ab98b0c.js"><link rel="prefetch" href="/blog/assets/js/63.6d5819a0.js"><link rel="prefetch" href="/blog/assets/js/64.54f9fa17.js"><link rel="prefetch" href="/blog/assets/js/65.2191d7ee.js"><link rel="prefetch" href="/blog/assets/js/66.fe1adc41.js"><link rel="prefetch" href="/blog/assets/js/67.c2510386.js"><link rel="prefetch" href="/blog/assets/js/68.43c21c88.js"><link rel="prefetch" href="/blog/assets/js/69.b3ebff89.js"><link rel="prefetch" href="/blog/assets/js/7.40250b12.js"><link rel="prefetch" href="/blog/assets/js/70.bbf5b1bd.js"><link rel="prefetch" href="/blog/assets/js/8.3e524491.js"><link rel="prefetch" href="/blog/assets/js/9.e0f53948.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.6d141f6a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">busyrat blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">be</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/be/nginx.html" class="nav-link">nginx</a></li><li class="dropdown-item"><!----> <a href="/blog/be/node.html" class="nav-link">node</a></li><li class="dropdown-item"><!----> <a href="/blog/be/python.html" class="nav-link">python</a></li><li class="dropdown-item"><!----> <a href="/blog/be/Redis.html" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">fe</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/fe/IE.html" class="nav-link">IE</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/stack/" class="nav-link">stack</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/vue/" class="nav-link">vue</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/知识点.html" class="nav-link">知识点</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/跨域.html" class="nav-link">跨域</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">old</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/old/docker swarm学习总结.html" class="nav-link">docker swarm学习总结</a></li><li class="dropdown-item"><!----> <a href="/blog/old/git 开发规范.html" class="nav-link">git 开发规范</a></li><li class="dropdown-item"><!----> <a href="/blog/old/Gitlab CI可持续集成学习总结.html" class="nav-link">Gitlab CI可持续集成学习总结</a></li><li class="dropdown-item"><!----> <a href="/blog/old/linux命令.html" class="nav-link">linux命令</a></li><li class="dropdown-item"><!----> <a href="/blog/old/学习笔记.html" class="nav-link">学习笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">op</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/op/docker/" class="nav-link">docker</a></li><li class="dropdown-item"><!----> <a href="/blog/op/gitlab-ci.html" class="nav-link">gitlab-ci</a></li><li class="dropdown-item"><!----> <a href="/blog/op/linux.html" class="nav-link">linux</a></li><li class="dropdown-item"><!----> <a href="/blog/op/nginx.html" class="nav-link">nginx</a></li><li class="dropdown-item"><!----> <a href="/blog/op/ssr.html" class="nav-link">ssr</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">others</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/others/cmder.html" class="nav-link">cmder</a></li><li class="dropdown-item"><!----> <a href="/blog/others/flex-demo.html" class="nav-link">flex-demo</a></li><li class="dropdown-item"><!----> <a href="/blog/others/Git.html" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/blog/others/JavaScript设计模式与开发实践.html" class="nav-link">JavaScript设计模式与开发实践</a></li><li class="dropdown-item"><!----> <a href="/blog/others/JavaScript语言精粹.html" class="nav-link">JavaScript语言精粹</a></li><li class="dropdown-item"><!----> <a href="/blog/others/JavaScript面向对象编程指南.html" class="nav-link">JavaScript面向对象编程指南</a></li><li class="dropdown-item"><!----> <a href="/blog/others/nCoV-Wuhan.html" class="nav-link">nCoV-Wuhan</a></li><li class="dropdown-item"><!----> <a href="/blog/others/WEB协议.html" class="nav-link">WEB协议</a></li><li class="dropdown-item"><!----> <a href="/blog/others/工具集.html" class="nav-link">工具集</a></li><li class="dropdown-item"><!----> <a href="/blog/others/清单.html" class="nav-link">清单</a></li><li class="dropdown-item"><!----> <a href="/blog/others/算法.html" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/blog/others/重学前端.html" class="nav-link">重学前端</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">links</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/busyrat/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  blog github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/busyrat/vuepress-plugins" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vuepress-plugins
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">be</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/be/nginx.html" class="nav-link">nginx</a></li><li class="dropdown-item"><!----> <a href="/blog/be/node.html" class="nav-link">node</a></li><li class="dropdown-item"><!----> <a href="/blog/be/python.html" class="nav-link">python</a></li><li class="dropdown-item"><!----> <a href="/blog/be/Redis.html" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">fe</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/fe/IE.html" class="nav-link">IE</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/stack/" class="nav-link">stack</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/vue/" class="nav-link">vue</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/知识点.html" class="nav-link">知识点</a></li><li class="dropdown-item"><!----> <a href="/blog/fe/跨域.html" class="nav-link">跨域</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">old</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/old/docker swarm学习总结.html" class="nav-link">docker swarm学习总结</a></li><li class="dropdown-item"><!----> <a href="/blog/old/git 开发规范.html" class="nav-link">git 开发规范</a></li><li class="dropdown-item"><!----> <a href="/blog/old/Gitlab CI可持续集成学习总结.html" class="nav-link">Gitlab CI可持续集成学习总结</a></li><li class="dropdown-item"><!----> <a href="/blog/old/linux命令.html" class="nav-link">linux命令</a></li><li class="dropdown-item"><!----> <a href="/blog/old/学习笔记.html" class="nav-link">学习笔记</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">op</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/op/docker/" class="nav-link">docker</a></li><li class="dropdown-item"><!----> <a href="/blog/op/gitlab-ci.html" class="nav-link">gitlab-ci</a></li><li class="dropdown-item"><!----> <a href="/blog/op/linux.html" class="nav-link">linux</a></li><li class="dropdown-item"><!----> <a href="/blog/op/nginx.html" class="nav-link">nginx</a></li><li class="dropdown-item"><!----> <a href="/blog/op/ssr.html" class="nav-link">ssr</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">others</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/others/cmder.html" class="nav-link">cmder</a></li><li class="dropdown-item"><!----> <a href="/blog/others/flex-demo.html" class="nav-link">flex-demo</a></li><li class="dropdown-item"><!----> <a href="/blog/others/Git.html" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/blog/others/JavaScript设计模式与开发实践.html" class="nav-link">JavaScript设计模式与开发实践</a></li><li class="dropdown-item"><!----> <a href="/blog/others/JavaScript语言精粹.html" class="nav-link">JavaScript语言精粹</a></li><li class="dropdown-item"><!----> <a href="/blog/others/JavaScript面向对象编程指南.html" class="nav-link">JavaScript面向对象编程指南</a></li><li class="dropdown-item"><!----> <a href="/blog/others/nCoV-Wuhan.html" class="nav-link">nCoV-Wuhan</a></li><li class="dropdown-item"><!----> <a href="/blog/others/WEB协议.html" class="nav-link">WEB协议</a></li><li class="dropdown-item"><!----> <a href="/blog/others/工具集.html" class="nav-link">工具集</a></li><li class="dropdown-item"><!----> <a href="/blog/others/清单.html" class="nav-link">清单</a></li><li class="dropdown-item"><!----> <a href="/blog/others/算法.html" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/blog/others/重学前端.html" class="nav-link">重学前端</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">links</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/busyrat/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  blog github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/busyrat/vuepress-plugins" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vuepress-plugins
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="web-协议"><a href="#web-协议" aria-hidden="true" class="header-anchor">#</a> WEB 协议</h1> <h2 id="第一章：http-1-1-协议-38-讲"><a href="#第一章：http-1-1-协议-38-讲" aria-hidden="true" class="header-anchor">#</a> 第一章：HTTP/1.1 协议  (38 讲)</h2> <h3 id="_01-课程介绍"><a href="#_01-课程介绍" aria-hidden="true" class="header-anchor">#</a> 01 | 课程介绍</h3> <h3 id="_02-内容综述"><a href="#_02-内容综述" aria-hidden="true" class="header-anchor">#</a> 02 | 内容综述</h3> <h3 id="_03-浏览器发起-http-请求的典型场景"><a href="#_03-浏览器发起-http-请求的典型场景" aria-hidden="true" class="header-anchor">#</a> 03 | 浏览器发起 HTTP 请求的典型场景</h3> <h3 id="_04-基于-abnf-语义定义的-http-消息格式"><a href="#_04-基于-abnf-语义定义的-http-消息格式" aria-hidden="true" class="header-anchor">#</a> 04 | 基于 ABNF 语义定义的 HTTP 消息格式</h3> <h3 id="_05-网络为什么要分层：osi-模型与-tcp-ip-模型"><a href="#_05-网络为什么要分层：osi-模型与-tcp-ip-模型" aria-hidden="true" class="header-anchor">#</a> 05 | 网络为什么要分层：OSI 模型与 TCP/IP 模型</h3> <h3 id="_06-http-解决了什么问题？"><a href="#_06-http-解决了什么问题？" aria-hidden="true" class="header-anchor">#</a> 06 | HTTP 解决了什么问题？</h3> <h3 id="_07-评估-web-架构的七大关键属性"><a href="#_07-评估-web-架构的七大关键属性" aria-hidden="true" class="header-anchor">#</a> 07 | 评估 Web 架构的七大关键属性</h3> <h3 id="_08-从五种架构风格推导出-http-的-rest-架构"><a href="#_08-从五种架构风格推导出-http-的-rest-架构" aria-hidden="true" class="header-anchor">#</a> 08 | 从五种架构风格推导出 HTTP 的 REST 架构</h3> <h3 id="_09-如何用-chrome-的-network-面板分析-http-报文"><a href="#_09-如何用-chrome-的-network-面板分析-http-报文" aria-hidden="true" class="header-anchor">#</a> 09 | 如何用 Chrome 的 Network 面板分析 HTTP 报文</h3> <h3 id="_10-uri-的基本格式以及与-url-的区别"><a href="#_10-uri-的基本格式以及与-url-的区别" aria-hidden="true" class="header-anchor">#</a> 10 | URI 的基本格式以及与 URL 的区别</h3> <h3 id="_11-为什么要对-uri-进行编码？"><a href="#_11-为什么要对-uri-进行编码？" aria-hidden="true" class="header-anchor">#</a> 11 | 为什么要对 URI 进行编码？</h3> <h3 id="_12-详解-http-的请求行"><a href="#_12-详解-http-的请求行" aria-hidden="true" class="header-anchor">#</a> 12 | 详解 HTTP 的请求行</h3> <h3 id="_13-http-的正确响应码"><a href="#_13-http-的正确响应码" aria-hidden="true" class="header-anchor">#</a> 13 | HTTP 的正确响应码</h3> <h3 id="_14-http-的错误响应码"><a href="#_14-http-的错误响应码" aria-hidden="true" class="header-anchor">#</a> 14 | HTTP 的错误响应码</h3> <h3 id="_15-如何管理跨代理服务器的长短连接？"><a href="#_15-如何管理跨代理服务器的长短连接？" aria-hidden="true" class="header-anchor">#</a> 15 | 如何管理跨代理服务器的长短连接？</h3> <ul><li><p>Connection 头部 （HTTP/1.1 才有）</p> <ul><li>Keep-Alive：长连接
<ul><li>客户端请求长连接：<code>Connection: Keep-Alive</code></li> <li>服务端表示支持长连接：<code>Connection: Keep-Alive</code></li> <li>客户端复用连接</li> <li>HTTP/1.1 默认支持长连接</li></ul></li> <li>Close：短连接</li> <li>对代理服务器的要求：不转发 Connection 列出头部，<strong>该头部仅与当前连接相关</strong></li></ul></li> <li><p>Proxy-Connection</p> <ul><li>陈旧的代理服务器不识别该头部，退化为短连接</li> <li>新版本的代理服务器理解该头部，用 Connection 代替 Proxy-Connection</li></ul></li> <li><p><a href="https://juejin.im/post/5c7b1be9f265da2dac4568a2" target="_blank" rel="noopener noreferrer">NodeJS 长连接<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;request&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">request</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    method<span class="token punctuation">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
    uri<span class="token punctuation">:</span> <span class="token string">&quot;http://xxx:8887/xxx&quot;</span><span class="token punctuation">,</span>
    time<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 配置这个属性可以看到时间信息</span>
    forever<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 配置这个开启长连接</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> body</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;timingPhases&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span>timingPhases<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ul> <h3 id="_16-http-消息在服务器端的路由"><a href="#_16-http-消息在服务器端的路由" aria-hidden="true" class="header-anchor">#</a> 16 | HTTP 消息在服务器端的路由</h3> <ul><li><p>Host = uri-host[&quot;:&quot; port]</p> <ul><li>HTTP/1.1 规范要求，不传递 Host 头部则返回 400 错误响应码</li> <li>域名众多，IP 相对来说不多</li> <li>为防止陈旧的代理服务器，发向正向代理的请求 request-target 必须 以 absolute-form 形式出现
<ul><li>request-line = method SP request-target SP HTTP-version CRLF</li> <li>absolute-form = absolute-URI
<ul><li>absolute-URI = scheme &quot;:&quot; hier-part [&quot;?&quot;query]</li></ul></li></ul></li></ul></li></ul> <h3 id="_17-代理服务器转发消息时的相关头部"><a href="#_17-代理服务器转发消息时的相关头部" aria-hidden="true" class="header-anchor">#</a> 17 | 代理服务器转发消息时的相关头部</h3> <ul><li><p>如何传递 IP 地址</p> <ul><li>TCP 连接四元组</li> <li>HTTP 头部 <code>X-Forwarded-For</code> 用于传递 IP，可以有多个，用逗号分割</li> <li>HTTP 头部 <code>X-Real-IP</code> 用于传递用户 IP</li> <li>网络中存在许多反向代理</li></ul></li> <li><p>消息的转发</p> <ul><li><code>Max-Forwards</code>：限制 Proxy 代理服务器的最大转发次数</li> <li><code>Via</code> 头部：指明经过的代理服务器名称及版本</li> <li><code>Cache-Control: no-transform</code>：禁止代理服务器修改响应包体</li></ul></li></ul> <h3 id="_18-请求与响应的上下文"><a href="#_18-请求与响应的上下文" aria-hidden="true" class="header-anchor">#</a> 18 | 请求与响应的上下文</h3> <ul><li><p>请求的上下文：</p> <ul><li><code>User-Agent</code></li> <li><code>Referer</code> 浏览器对来自某一页面的请求自动添加的头部
<ul><li>服务器端常用于统计分析、缓存优化、防盗链等功能</li> <li>Referer 不会被添加的场景
<ul><li>来源页面采用的协议为表示本地文件的 file</li> <li>当请求页面采用 http 协议，而来源页面采用的是 https 协议</li></ul></li></ul></li></ul></li> <li><p>响应的上下文</p> <ul><li><code>Server</code></li> <li><code>Allow</code> 告诉客户端，服务器上该 URI 对应的资源允许哪些方法的执行</li> <li><code>Accept-Ranges</code> 告诉客户端服务器上该资源是否允许 range 请求</li></ul></li></ul> <h3 id="_19-内容协商与资源表述"><a href="#_19-内容协商与资源表述" aria-hidden="true" class="header-anchor">#</a> 19 | 内容协商与资源表述</h3> <ul><li><p>内容协商
每个 URI 指向的资源可以是任何事物，可以有多种不同的表述，例如不同的语言、不同的媒体格式、不同的编码等</p></li> <li><p>Proactive 主动式内容协商</p> <ul><li>质量因子 q：内容的质量、可接受类型的优先级</li> <li>媒体资源 MIME 类型及质量因子
<ul><li>Accept</li> <li>Accept-Charset</li> <li>Accept-Encoding</li> <li>Accept-Langugage</li></ul></li> <li>响应，元数据头部
<ul><li>媒体类型、编码：content-type</li> <li>内容编码：content-encoding</li> <li>语言：Content-language</li></ul></li></ul></li> <li><p>Reactive 响应式内容协商，没有统一，很少使用</p></li></ul> <h3 id="_20-http-包体的传输方式（1）：定长包体"><a href="#_20-http-包体的传输方式（1）：定长包体" aria-hidden="true" class="header-anchor">#</a> 20 | HTTP 包体的传输方式（1）：定长包体</h3> <ul><li><p>请求或者响应都可以携带包体</p> <ul><li><p>HTTP-message = start-line *(header-field CRLF) CRLF [message-body]</p> <ul><li>message-body = *OCTET：二进制字节流，且必须与实际传输的长度一致</li></ul></li> <li><p>以下消息不能含有包体</p> <ul><li>HEAD 方法请求对应的响应</li> <li>1xx、204、304 对应的响应</li> <li>CONNECT 方法对应的 2xx 响应</li></ul></li> <li><p>使用 Content-Length 头部明确指明包体长度</p> <ul><li>Content-Length = 1 *DIGIT (字节个数)</li> <li>当数字小于实际包体长度的时候，超过的数据客户端会丢掉；如果大于了，浏览器就会抛错</li></ul></li></ul></li></ul> <h3 id="_21-http-包体的传输方式（2）：不定长包体"><a href="#_21-http-包体的传输方式（2）：不定长包体" aria-hidden="true" class="header-anchor">#</a> 21 | HTTP 包体的传输方式（2）：不定长包体</h3> <ul><li><p>不能确定包体的全部长度</p> <ul><li><p>使用 <code>Transfer-Encoding</code>头部指明使用 <code>Chunk</code> 传输方式</p></li> <li><p>优点：</p> <ul><li>基于长连接持续推送动态内容</li> <li>压缩体积较大的包体时，不必完全压缩完再发送，可以边发送变压缩</li> <li>传递必须在包体传输完才能计算出的 Trailer 头部</li></ul></li> <li><p>头部：<code>transfer-coding = &quot;chunked&quot;</code></p> <ul><li>chunked-body = *chunk last-chunk trailer-part CRLF
<ul><li>chunk = chunk-size[chunk-ext] CRLF chunk-data CRLF</li> <li>last-chunk = 1 * (&quot;0&quot;)[chunk-ext] CRLF</li> <li>trailer-part = * (header-field CRLF)</li></ul></li></ul></li> <li><p>Trailer 头部的传输，很多浏览器还不支持</p> <ul><li>TE 头部：客户端的请求在声明是否接收 Trailer 头部 <code>TE: trailers</code></li> <li>Trailer 头部：服务器告知接下来 chunk 包体后会传输哪些 Trailer 头部</li></ul></li></ul></li> <li><p>Content-Disposition</p> <ul><li><p>disposition-type = &quot;inline&quot; | &quot;attachment&quot; | disp-ext-type</p> <ul><li>inline：指定包体是以内联的方式，作为页面的一部分展示</li> <li>attachment：指定浏览器将包体以附件的方式下载 -例如：<code>Content-Disposition: attachment; filename=&quot;aaa.jpg&quot;</code></li></ul></li></ul></li></ul> <h3 id="_22-html-form-表单提交时的协议格式"><a href="#_22-html-form-表单提交时的协议格式" aria-hidden="true" class="header-anchor">#</a> 22 | HTML form 表单提交时的协议格式</h3> <ul><li><p>Form 表单：HTML 中的元素，提供了交互控制元件用来向服务器通过 HTTTP 协议提交信息，常见控件有：</p> <ul><li>Text Input</li> <li>Checkboxes</li> <li>Radio</li> <li>Select</li> <li>File</li> <li>Clickable Button</li> <li>Submit and Reset Button</li></ul></li> <li><p>关键属性</p> <ul><li>action：提交时发起 HTTP 请求的 URI</li> <li>method：post / get</li> <li>enctype：在 POST 方法下，对表单内容在请求包体中的编码方式
<ul><li>application/x-www-form-urlencoded 默认的</li> <li>multipart/form-data
<ul><li>boundary 分隔符</li> <li>每部分表述皆有 HTTP 头部描述子包体</li> <li>last boundary 结尾</li></ul></li></ul></li></ul></li> <li><p>multipart：一个包体中多个资源表述</p> <ul><li>Content-type 头部指明这是个多表述包体
<ul><li>Content-type: multipart/form-data;</li></ul></li></ul></li></ul> <h3 id="_23-断点续传与多线程下载是如何做到的？"><a href="#_23-断点续传与多线程下载是如何做到的？" aria-hidden="true" class="header-anchor">#</a> 23 | 断点续传与多线程下载是如何做到的？^</h3> <ul><li><p>多线程、断点续传、随机点播等场景的步骤</p> <ul><li>客户端明确任务：从哪开始下载
<ul><li>本地是否已有部分文件
<ul><li>文件已下载部分在服务器端发生改变？</li></ul></li> <li>使用几个线程并发下载</li></ul></li> <li>下载文件的指定部分内容</li> <li>下载完毕后拼装成统一的文件</li></ul></li></ul> <h3 id="_24-cookie-的格式与约束"><a href="#_24-cookie-的格式与约束" aria-hidden="true" class="header-anchor">#</a> 24 | Cookie 的格式与约束</h3> <ul><li><p>Cookie 头部可以存放多个 name/value 名值对</p> <ul><li>cookie-header = &quot;Cookie:&quot; OWS cookie-string OWS
<ul><li>cookie-string = cookie-pair *(&quot;;&quot; SP cookie-pair)
<ul><li>cookie-pair = cookie-name &quot;=&quot; cookie-value</li></ul></li></ul></li></ul></li> <li><p>Set-Cookie 头部一次只能传递一个 name/value 名值对，响应中可以含多个头部</p> <ul><li>set-cookie-header = &quot;Set-Cookie:&quot; SP set-cookie-string
<ul><li>set-cookie-string = cookie-pair *(&quot;;&quot; SP cookie-av)
<ul><li>cookie-av = 描述 cookie-pair 的可选属性</li></ul></li></ul></li></ul></li> <li><p>cookie-av = expires-av / max-age-av / domain-av / path-av / secure-av / httponly-av / extension-av</p> <ul><li>httponly-av = &quot;HttpOnly&quot;：不能使用 JS（Document.cookie、XMLHttpRequest、Request APIS）访问到 cookie</li></ul></li> <li><p>设计上的问题</p> <ul><li>Cookie 会被附加在每个 HTTP 请求中，所以无形中增加了流量</li> <li>明文传输</li> <li>上限 4KB，对于复杂的存储需要来说不够用</li></ul></li></ul> <h3 id="_25-session-及第三方-cookie-的工作原理"><a href="#_25-session-及第三方-cookie-的工作原理" aria-hidden="true" class="header-anchor">#</a> 25 | Session 及第三方 Cookie 的工作原理</h3> <p><img src="https://raw.githubusercontent.com/busyrat/picgo/master/20200521103407.png" alt=""></p> <ul><li><p>第三方 Cookie</p> <ul><li>浏览器允许对于不安全域下的资源（如广告图片）响应中的 Set-Cookie 保存，并在后续访问该域时自动使用 Cookie</li></ul></li></ul> <h3 id="_26-浏览器为什么要有同源策略？"><a href="#_26-浏览器为什么要有同源策略？" aria-hidden="true" class="header-anchor">#</a> 26 | 浏览器为什么要有同源策略？</h3> <p>同一个浏览器发出的请求，未必都是用户自愿发出的请求</p> <p>同源：协议、主机、端口 三者必须完全相同</p> <ul><li><p>安全性与可用性需要一个平衡点</p> <ul><li><p>可用性：HTML 决定跨域请求是否对本站点安全</p> <ul><li>script \ img \ iframe \ link \ video \ audio</li> <li>允许跨域写操作：例如表单提交或者重定向请求
<ul><li>CSRF 安全性问题</li></ul></li></ul></li> <li><p>安全性：浏览器需要防止站点 A 的脚本向站点 B 发起危险动作</p> <ul><li>Cookie \ LocalStorage 和 IndexDB</li> <li>DOM 无法获得</li> <li>AJAX 请求不能发送</li></ul></li></ul></li> <li><p>CSRF 利用表单跨域写</p> <p><img src="https://raw.githubusercontent.com/busyrat/picgo/master/20200521110006.png" alt=""></p> <p>真正的服务可以查看 Referer 头验证，如果浏览器不支持 Refeer 就无法防止。</p> <p><img src="https://raw.githubusercontent.com/busyrat/picgo/master/20200521110211.png" alt=""></p></li></ul> <h3 id="_27-如何“合法”地跨域访问？"><a href="#_27-如何“合法”地跨域访问？" aria-hidden="true" class="header-anchor">#</a> 27 | 如何“合法”地跨域访问？</h3> <p>CORS：Cross-Origin Resource Sharing</p> <ul><li><p>浏览器同源策略下的跨域访问解决方案</p> <ul><li>如果站点 A 允许站点 B 的脚本访问其资源，必须在 HTTP 响应中显式的告知浏览器：站点 B 是被允许的</li> <li>策略 1：何为简单请求
<ul><li>GET / HEAD / POST 方法之一</li> <li>仅能使用 CORS 安全的头部：
<ul><li>Accept</li> <li>Accept-Language</li> <li>Content-Language</li> <li>Content-Type</li></ul></li> <li>Content-Type 只能是三者其中之一：
<ul><li>text/plain</li> <li>multipart/form-data</li> <li>application/x-www-form-urlencoded</li></ul></li></ul></li> <li>策略 2：简单请求以外的请求
<ul><li>访问资源前，需要先发起 prefilght 预检请求（方法为 OPTIONS）询问何种请求是被允许的</li></ul></li></ul></li> <li><p>nginx 相关配置举例</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token keyword">location</span> <span class="token operator">/</span> <span class="token punctuation">{</span>
  <span class="token keyword">add_header</span> Access<span class="token operator">-</span>Control<span class="token operator">-</span><span class="token keyword">Allow</span><span class="token operator">-</span>Origin <span class="token string">'http://main.com'</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>非简单跨域</p> <ul><li>请求头部
<ul><li>Access-Control-Request-Method</li> <li>Access-Control-Request-Header</li></ul></li> <li>响应头部
<ul><li>Access-Control-Allow-Methods</li> <li>Access-Control-Allow-Headers</li> <li>Access-Control-Max-Age</li> <li>Access-Control-Expose-Headers</li> <li>Access-Control-Allow-Origin</li> <li>Access-Control-Allow-Credentials</li></ul></li></ul></li></ul> <h3 id="_28-条件请求的作用"><a href="#_28-条件请求的作用" aria-hidden="true" class="header-anchor">#</a> 28 | 条件请求的作用</h3> <h3 id="_29-缓存的工作原理"><a href="#_29-缓存的工作原理" aria-hidden="true" class="header-anchor">#</a> 29 | 缓存的工作原理</h3> <h3 id="_30-缓存新鲜度的四种计算方式"><a href="#_30-缓存新鲜度的四种计算方式" aria-hidden="true" class="header-anchor">#</a> 30 | 缓存新鲜度的四种计算方式</h3> <ul><li><p>response_is_fresh = (freshness_lifetime &gt; current_age)</p> <ul><li>freshness_lifetime：按优先级，取以下响应头部的值
<ul><li>s-maxage &gt; max-age &gt; Expires &gt; 预估过期时间
<ul><li>通常的服务端都没有配置 max-age 等，所以浏览器有个预估过期时间：(DownloadTime - LastModified) * 10%</li></ul></li></ul></li></ul></li> <li><p>Age 表示自源服务器发出响应（或者验证过期混存），到使用缓存的响应发出时经过的秒数</p></li></ul> <h3 id="_31-复杂的-cache-control-头部"><a href="#_31-复杂的-cache-control-头部" aria-hidden="true" class="header-anchor">#</a> 31 | 复杂的 Cache-Control 头部</h3> <h3 id="_32-什么样的响应才会被缓存"><a href="#_32-什么样的响应才会被缓存" aria-hidden="true" class="header-anchor">#</a> 32 | 什么样的响应才会被缓存</h3> <h3 id="_33-多种重定向跳转方式的差异"><a href="#_33-多种重定向跳转方式的差异" aria-hidden="true" class="header-anchor">#</a> 33 | 多种重定向跳转方式的差异</h3> <h3 id="_34-如何通过-http-隧道访问被限制的网络"><a href="#_34-如何通过-http-隧道访问被限制的网络" aria-hidden="true" class="header-anchor">#</a> 34 | 如何通过 HTTP 隧道访问被限制的网络</h3> <h3 id="_35-网络爬虫的工作原理与应对方式"><a href="#_35-网络爬虫的工作原理与应对方式" aria-hidden="true" class="header-anchor">#</a> 35 | 网络爬虫的工作原理与应对方式</h3> <h3 id="_36-http-协议的基本认证"><a href="#_36-http-协议的基本认证" aria-hidden="true" class="header-anchor">#</a> 36 | HTTP 协议的基本认证</h3> <h3 id="_37-wireshark-的基本用法"><a href="#_37-wireshark-的基本用法" aria-hidden="true" class="header-anchor">#</a> 37 | Wireshark 的基本用法</h3> <h3 id="_38-如何通过-dns-协议解析域名？"><a href="#_38-如何通过-dns-协议解析域名？" aria-hidden="true" class="header-anchor">#</a> 38 | 如何通过 DNS 协议解析域名？</h3> <h2 id="第二章：websocket-协议-10-讲"><a href="#第二章：websocket-协议-10-讲" aria-hidden="true" class="header-anchor">#</a> 第二章：WebSocket 协议  (10 讲)</h2> <h3 id="_39-wireshark-的捕获过滤器"><a href="#_39-wireshark-的捕获过滤器" aria-hidden="true" class="header-anchor">#</a> 39 | Wireshark 的捕获过滤器</h3> <h3 id="_40-wireshark-的显示过滤器"><a href="#_40-wireshark-的显示过滤器" aria-hidden="true" class="header-anchor">#</a> 40 | Wireshark 的显示过滤器</h3> <h3 id="_41-websocket-解决什么问题"><a href="#_41-websocket-解决什么问题" aria-hidden="true" class="header-anchor">#</a> 41 | Websocket 解决什么问题</h3> <h3 id="_42-websocket-的约束"><a href="#_42-websocket-的约束" aria-hidden="true" class="header-anchor">#</a> 42 | Websocket 的约束</h3> <h3 id="_43-websocket-协议格式"><a href="#_43-websocket-协议格式" aria-hidden="true" class="header-anchor">#</a> 43 | WebSocket 协议格式</h3> <h3 id="_44-如何从-http-升级到-websocket"><a href="#_44-如何从-http-升级到-websocket" aria-hidden="true" class="header-anchor">#</a> 44 | 如何从 HTTP 升级到 WebSocket</h3> <h3 id="_45-传递消息时的编码格式"><a href="#_45-传递消息时的编码格式" aria-hidden="true" class="header-anchor">#</a> 45 | 传递消息时的编码格式</h3> <h3 id="_46-掩码及其所针对的代理污染攻击"><a href="#_46-掩码及其所针对的代理污染攻击" aria-hidden="true" class="header-anchor">#</a> 46 | 掩码及其所针对的代理污染攻击</h3> <h3 id="_47-如何保持会话心跳"><a href="#_47-如何保持会话心跳" aria-hidden="true" class="header-anchor">#</a> 47 | 如何保持会话心跳</h3> <h3 id="_48-如何关闭会话"><a href="#_48-如何关闭会话" aria-hidden="true" class="header-anchor">#</a> 48 | 如何关闭会话</h3> <h2 id="第三章：http-2-协议-21-讲"><a href="#第三章：http-2-协议-21-讲" aria-hidden="true" class="header-anchor">#</a> 第三章：HTTP/2 协议  (21 讲)</h2> <h3 id="_49-http-1-1-发展中遇到的问题"><a href="#_49-http-1-1-发展中遇到的问题" aria-hidden="true" class="header-anchor">#</a> 49 | HTTP/1.1 发展中遇到的问题</h3> <h3 id="_50-http-2-特性概述"><a href="#_50-http-2-特性概述" aria-hidden="true" class="header-anchor">#</a> 50 | HTTP/2 特性概述</h3> <h3 id="_51-如何使用-wireshark-解密-tls-ssl-报文？"><a href="#_51-如何使用-wireshark-解密-tls-ssl-报文？" aria-hidden="true" class="header-anchor">#</a> 51 | 如何使用 Wireshark 解密 TLS/SSL 报文？</h3> <h3 id="_52-h2c：在-tcp-上从-http-1-升级到-http-2"><a href="#_52-h2c：在-tcp-上从-http-1-升级到-http-2" aria-hidden="true" class="header-anchor">#</a> 52 | h2c：在 TCP 上从 HTTP/1 升级到 HTTP/2</h3> <h3 id="_53-h2：在-tls-上从-http-1-升级到-http-2"><a href="#_53-h2：在-tls-上从-http-1-升级到-http-2" aria-hidden="true" class="header-anchor">#</a> 53 | h2：在 TLS 上从 HTTP/1 升级到 HTTP/2</h3> <h3 id="_54-帧、消息、流的关系"><a href="#_54-帧、消息、流的关系" aria-hidden="true" class="header-anchor">#</a> 54 | 帧、消息、流的关系</h3> <h3 id="_55-帧格式：stream-流-id-的作用"><a href="#_55-帧格式：stream-流-id-的作用" aria-hidden="true" class="header-anchor">#</a> 55 | 帧格式：Stream 流 ID 的作用</h3> <h3 id="_56-帧格式：帧类型及设置帧的子类型"><a href="#_56-帧格式：帧类型及设置帧的子类型" aria-hidden="true" class="header-anchor">#</a> 56 | 帧格式：帧类型及设置帧的子类型</h3> <h3 id="_57-hpack-如何减少-http-头部的大小？"><a href="#_57-hpack-如何减少-http-头部的大小？" aria-hidden="true" class="header-anchor">#</a> 57 | HPACK 如何减少 HTTP 头部的大小？</h3> <h3 id="_58-hpack-中如何使用-huffman-树编码？"><a href="#_58-hpack-中如何使用-huffman-树编码？" aria-hidden="true" class="header-anchor">#</a> 58 | HPACK 中如何使用 Huffman 树编码？</h3> <h3 id="_59-hpack-中整型数字的编码"><a href="#_59-hpack-中整型数字的编码" aria-hidden="true" class="header-anchor">#</a> 59 | HPACK 中整型数字的编码</h3> <h3 id="_60-hpack-中头部名称与值的编码格式"><a href="#_60-hpack-中头部名称与值的编码格式" aria-hidden="true" class="header-anchor">#</a> 60 | HPACK 中头部名称与值的编码格式</h3> <h3 id="_61-服务器端的主动消息推送"><a href="#_61-服务器端的主动消息推送" aria-hidden="true" class="header-anchor">#</a> 61 | 服务器端的主动消息推送</h3> <h3 id="_62-stream-的状态变迁"><a href="#_62-stream-的状态变迁" aria-hidden="true" class="header-anchor">#</a> 62 | Stream 的状态变迁</h3> <h3 id="_63-rst-stream-帧及常见错误码"><a href="#_63-rst-stream-帧及常见错误码" aria-hidden="true" class="header-anchor">#</a> 63 | RST_STREAM 帧及常见错误码</h3> <h3 id="_64-我们需要-stream-优先级"><a href="#_64-我们需要-stream-优先级" aria-hidden="true" class="header-anchor">#</a> 64 | 我们需要 Stream 优先级</h3> <h3 id="_65-不同于-tcp-的流量控制"><a href="#_65-不同于-tcp-的流量控制" aria-hidden="true" class="header-anchor">#</a> 65 | 不同于 TCP 的流量控制</h3> <h3 id="_66-http-2-与-grpc-框架"><a href="#_66-http-2-与-grpc-框架" aria-hidden="true" class="header-anchor">#</a> 66 | HTTP/2 与 gRPC 框架</h3> <h3 id="_67-http-2-的问题及-http-3-的意义"><a href="#_67-http-2-的问题及-http-3-的意义" aria-hidden="true" class="header-anchor">#</a> 67 | HTTP/2 的问题及 HTTP/3 的意义</h3> <h3 id="_68-http-3-quic-协议格式"><a href="#_68-http-3-quic-协议格式" aria-hidden="true" class="header-anchor">#</a> 68 | HTTP/3: QUIC 协议格式</h3> <h3 id="_69-七层负载均衡做了些什么？"><a href="#_69-七层负载均衡做了些什么？" aria-hidden="true" class="header-anchor">#</a> 69 | 七层负载均衡做了些什么？</h3> <h2 id="第四章：tls-ssl-协议-14-讲"><a href="#第四章：tls-ssl-协议-14-讲" aria-hidden="true" class="header-anchor">#</a> 第四章：TLS/SSL 协议  (14 讲)</h2> <h3 id="_70-tls-协议的工作原理"><a href="#_70-tls-协议的工作原理" aria-hidden="true" class="header-anchor">#</a> 70 | TLS 协议的工作原理</h3> <h3 id="_71-对称加密的工作原理（1）：xor-与填充"><a href="#_71-对称加密的工作原理（1）：xor-与填充" aria-hidden="true" class="header-anchor">#</a> 71 | 对称加密的工作原理（1）：XOR 与填充</h3> <h3 id="_72-对称加密的工作原理（2）：工作模式"><a href="#_72-对称加密的工作原理（2）：工作模式" aria-hidden="true" class="header-anchor">#</a> 72 | 对称加密的工作原理（2）：工作模式</h3> <h3 id="_73-详解-aes-对称加密算法"><a href="#_73-详解-aes-对称加密算法" aria-hidden="true" class="header-anchor">#</a> 73 | 详解 AES 对称加密算法</h3> <h3 id="_74-非对称密码与-rsa-算法"><a href="#_74-非对称密码与-rsa-算法" aria-hidden="true" class="header-anchor">#</a> 74 | 非对称密码与 RSA 算法</h3> <h3 id="_75-基于-openssl-实战验证-rsa"><a href="#_75-基于-openssl-实战验证-rsa" aria-hidden="true" class="header-anchor">#</a> 75 | 基于 openssl 实战验证 RSA</h3> <h3 id="_76-非对称密码应用：pki-证书体系"><a href="#_76-非对称密码应用：pki-证书体系" aria-hidden="true" class="header-anchor">#</a> 76 | 非对称密码应用：PKI 证书体系</h3> <h3 id="_77-非对称密码应用：dh-密钥交换协议"><a href="#_77-非对称密码应用：dh-密钥交换协议" aria-hidden="true" class="header-anchor">#</a> 77 | 非对称密码应用：DH 密钥交换协议</h3> <h3 id="_78-ecc-椭圆曲线的特性"><a href="#_78-ecc-椭圆曲线的特性" aria-hidden="true" class="header-anchor">#</a> 78 | ECC 椭圆曲线的特性</h3> <h3 id="_79-dh-协议升级：基于椭圆曲线的-ecdh-协议"><a href="#_79-dh-协议升级：基于椭圆曲线的-ecdh-协议" aria-hidden="true" class="header-anchor">#</a> 79 | DH 协议升级：基于椭圆曲线的 ECDH 协议</h3> <h3 id="_80-tls1-2-与-tls1-3-中的-ecdh-协议"><a href="#_80-tls1-2-与-tls1-3-中的-ecdh-协议" aria-hidden="true" class="header-anchor">#</a> 80 | TLS1.2 与 TLS1.3 中的 ECDH 协议</h3> <h3 id="_81-握手的优化：session-缓存、ticket-票据及-tls1-3-的-0-rtt"><a href="#_81-握手的优化：session-缓存、ticket-票据及-tls1-3-的-0-rtt" aria-hidden="true" class="header-anchor">#</a> 81 | 握手的优化：session 缓存、ticket 票据及 TLS1.3 的 0-RTT</h3> <h3 id="_82-tls-与量子通讯的原理"><a href="#_82-tls-与量子通讯的原理" aria-hidden="true" class="header-anchor">#</a> 82 | TLS 与量子通讯的原理</h3> <h3 id="_83-量子通讯-bb84-协议的执行流程"><a href="#_83-量子通讯-bb84-协议的执行流程" aria-hidden="true" class="header-anchor">#</a> 83 | 量子通讯 BB84 协议的执行流程</h3> <h2 id="第五章：tcp-协议-25-讲"><a href="#第五章：tcp-协议-25-讲" aria-hidden="true" class="header-anchor">#</a> 第五章：TCP 协议  (25 讲)</h2> <h3 id="_84-tcp-历史及其设计哲学"><a href="#_84-tcp-历史及其设计哲学" aria-hidden="true" class="header-anchor">#</a> 84 | TCP 历史及其设计哲学</h3> <h3 id="_85-tcp-解决了哪些问题"><a href="#_85-tcp-解决了哪些问题" aria-hidden="true" class="header-anchor">#</a> 85 | TCP 解决了哪些问题</h3> <h3 id="_86-tcp-报文格式"><a href="#_86-tcp-报文格式" aria-hidden="true" class="header-anchor">#</a> 86 | TCP 报文格式</h3> <h3 id="_87-如何使用-tcpdump-分析网络报文"><a href="#_87-如何使用-tcpdump-分析网络报文" aria-hidden="true" class="header-anchor">#</a> 87 | 如何使用 tcpdump 分析网络报文</h3> <h3 id="_88-三次握手建立连接"><a href="#_88-三次握手建立连接" aria-hidden="true" class="header-anchor">#</a> 88 | 三次握手建立连接</h3> <h3 id="_89-三次握手过程中的状态变迁"><a href="#_89-三次握手过程中的状态变迁" aria-hidden="true" class="header-anchor">#</a> 89 | 三次握手过程中的状态变迁</h3> <h3 id="_90-三次握手中的性能优化与安全问题"><a href="#_90-三次握手中的性能优化与安全问题" aria-hidden="true" class="header-anchor">#</a> 90 | 三次握手中的性能优化与安全问题</h3> <h3 id="_91-数据传输与-mss-分段"><a href="#_91-数据传输与-mss-分段" aria-hidden="true" class="header-anchor">#</a> 91 | 数据传输与 MSS 分段</h3> <h3 id="_92-重传与确认"><a href="#_92-重传与确认" aria-hidden="true" class="header-anchor">#</a> 92 | 重传与确认</h3> <h3 id="_93-rto-重传定时器的计算"><a href="#_93-rto-重传定时器的计算" aria-hidden="true" class="header-anchor">#</a> 93 | RTO 重传定时器的计算</h3> <h3 id="_94-滑动窗口：发送窗口与接收窗口"><a href="#_94-滑动窗口：发送窗口与接收窗口" aria-hidden="true" class="header-anchor">#</a> 94 | 滑动窗口：发送窗口与接收窗口</h3> <h3 id="_95-窗口的滑动与流量控制"><a href="#_95-窗口的滑动与流量控制" aria-hidden="true" class="header-anchor">#</a> 95 | 窗口的滑动与流量控制</h3> <h3 id="_96-操作系统缓冲区与滑动窗口的关系"><a href="#_96-操作系统缓冲区与滑动窗口的关系" aria-hidden="true" class="header-anchor">#</a> 96 | 操作系统缓冲区与滑动窗口的关系</h3> <h3 id="_97-如何减少小报文提高网络效率"><a href="#_97-如何减少小报文提高网络效率" aria-hidden="true" class="header-anchor">#</a> 97 | 如何减少小报文提高网络效率</h3> <h3 id="_98-拥塞控制（1）：慢启动"><a href="#_98-拥塞控制（1）：慢启动" aria-hidden="true" class="header-anchor">#</a> 98 | 拥塞控制（1）：慢启动</h3> <h3 id="_99-拥塞控制（2）：拥塞避免"><a href="#_99-拥塞控制（2）：拥塞避免" aria-hidden="true" class="header-anchor">#</a> 99 | 拥塞控制（2）：拥塞避免</h3> <h3 id="_100-拥塞控制（3）：快速重传与快速恢复"><a href="#_100-拥塞控制（3）：快速重传与快速恢复" aria-hidden="true" class="header-anchor">#</a> 100 | 拥塞控制（3）：快速重传与快速恢复</h3> <h3 id="_101-sack-与选择性重传算法"><a href="#_101-sack-与选择性重传算法" aria-hidden="true" class="header-anchor">#</a> 101 | SACK 与选择性重传算法</h3> <h3 id="_102-从丢包到测量驱动的拥塞控制算法"><a href="#_102-从丢包到测量驱动的拥塞控制算法" aria-hidden="true" class="header-anchor">#</a> 102 | 从丢包到测量驱动的拥塞控制算法</h3> <h3 id="_103-google-bbr-拥塞控制算法原理"><a href="#_103-google-bbr-拥塞控制算法原理" aria-hidden="true" class="header-anchor">#</a> 103 | Google BBR 拥塞控制算法原理</h3> <h3 id="_104-关闭连接过程优化"><a href="#_104-关闭连接过程优化" aria-hidden="true" class="header-anchor">#</a> 104 | 关闭连接过程优化</h3> <h3 id="_105-优化关闭连接时的-time-wait-状态"><a href="#_105-优化关闭连接时的-time-wait-状态" aria-hidden="true" class="header-anchor">#</a> 105 | 优化关闭连接时的 TIME-WAIT 状态</h3> <h3 id="_106-keepalive-、校验和及带外数据"><a href="#_106-keepalive-、校验和及带外数据" aria-hidden="true" class="header-anchor">#</a> 106 | keepalive 、校验和及带外数据</h3> <h3 id="_107-面向字节流的-tcp-连接如何多路复用"><a href="#_107-面向字节流的-tcp-连接如何多路复用" aria-hidden="true" class="header-anchor">#</a> 107 | 面向字节流的 TCP 连接如何多路复用</h3> <h3 id="_108-四层负载均衡可以做什么"><a href="#_108-四层负载均衡可以做什么" aria-hidden="true" class="header-anchor">#</a> 108 | 四层负载均衡可以做什么</h3> <h2 id="第六章：ip-协议-13-讲"><a href="#第六章：ip-协议-13-讲" aria-hidden="true" class="header-anchor">#</a> 第六章：IP 协议  (13 讲)</h2> <h3 id="_109-网络层与链路层的功能"><a href="#_109-网络层与链路层的功能" aria-hidden="true" class="header-anchor">#</a> 109 | 网络层与链路层的功能</h3> <h3 id="_110-ipv4-分类地址"><a href="#_110-ipv4-分类地址" aria-hidden="true" class="header-anchor">#</a> 110 | IPv4 分类地址</h3> <h3 id="_111-cidr-无分类地址"><a href="#_111-cidr-无分类地址" aria-hidden="true" class="header-anchor">#</a> 111 | CIDR 无分类地址</h3> <h3 id="_112-ip-地址与链路地址的转换：arp-与-rarp-协议"><a href="#_112-ip-地址与链路地址的转换：arp-与-rarp-协议" aria-hidden="true" class="header-anchor">#</a> 112 | IP 地址与链路地址的转换：ARP 与 RARP 协议</h3> <h3 id="_113-nat-地址转换与-lvs-负载均衡"><a href="#_113-nat-地址转换与-lvs-负载均衡" aria-hidden="true" class="header-anchor">#</a> 113 | NAT 地址转换与 LVS 负载均衡</h3> <h3 id="_114-ip-选路协议"><a href="#_114-ip-选路协议" aria-hidden="true" class="header-anchor">#</a> 114 | IP 选路协议</h3> <h3 id="_115-mtu-与-ip-报文分片"><a href="#_115-mtu-与-ip-报文分片" aria-hidden="true" class="header-anchor">#</a> 115 | MTU 与 IP 报文分片</h3> <h3 id="_116-ip-协议的助手：icmp-协议"><a href="#_116-ip-协议的助手：icmp-协议" aria-hidden="true" class="header-anchor">#</a> 116 | IP 协议的助手：ICMP 协议</h3> <h3 id="_117-多播与-igmp-协议"><a href="#_117-多播与-igmp-协议" aria-hidden="true" class="header-anchor">#</a> 117 | 多播与 IGMP 协议</h3> <h3 id="_118-支持万物互联的-ipv6-地址"><a href="#_118-支持万物互联的-ipv6-地址" aria-hidden="true" class="header-anchor">#</a> 118 | 支持万物互联的 IPv6 地址</h3> <h3 id="_119-ipv6-报文及分片"><a href="#_119-ipv6-报文及分片" aria-hidden="true" class="header-anchor">#</a> 119 | IPv6 报文及分片</h3> <h3 id="_120-从-wireshark-报文统计中找规律"><a href="#_120-从-wireshark-报文统计中找规律" aria-hidden="true" class="header-anchor">#</a> 120 | 从 wireshark 报文统计中找规律</h3> <h3 id="_121-结课测试-结束语"><a href="#_121-结课测试-结束语" aria-hidden="true" class="header-anchor">#</a> 121 | 结课测试&amp;结束语&quot;</h3></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">6/5/2020, 3:22:23 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.d2fdc9c2.js" defer></script><script src="/blog/assets/js/3.54348689.js" defer></script><script src="/blog/assets/js/60.d05fb8b4.js" defer></script><script src="/blog/assets/js/10.ff74173e.js" defer></script>
  </body>
</html>
